---
layout: post
title: "计算机网络——运输层③"
---

## 拥塞控制原理

### 拥塞的原因和代价

考虑只有一跳且缓存无限的网络，当发送分组的速率大于链路的速率时，分组会在队列之中无限堆积，从而导致*排队时延急剧上升*。

现在，假设这个网络的缓存有限，那么显然有分组会丢失，因此网络的效率很大程度上取决于重传的方式。
我们首先使用一种不可能的模型来进行研究，即发送者仅当路由器的缓存有空闲时才发送分组，以此确保不会发生分组丢失。
此时运输层向网络发送数据的速率被限制在其最大速率。
接下来我们假设发送者仅当确定分组丢失时才进行重传，那么拥塞会导致*发送端不得不重发因溢出而丢失的分组*。
最后我们考虑发送方使用定时器来进行重传的模型，此时拥塞会导致时延上升，从而导致发送方重发许多分组，即使这些分组只是在队列中而并未丢失。
因此，拥塞会导致*路由器利用其带宽来重传不必要的分组*。

最后考虑有限缓存的多跳网络。
如果多台主机的连接共享一个路由器，那么拥塞的显然的后果就是其中一个连接的分组会抢占另一个连接的分组，从而导致*另一条连接的吞吐量趋于零*。
除此之外，如果连接经过多个路由器，如果靠后的路由器因阻塞而丢弃分组，那么其*上游的路由器的带宽就被浪费了*。

### 拥塞控制的方法

用于拥塞控制的方法大体上可以分为两类：
1. 端到端的拥塞控制：网络层不为拥塞控制提供支持，而端系统必须通过观察而猜测是否发生拥塞并进行处理；
2. 网络辅助的拥塞控制：路由器向端系统提供关于拥塞的显式反馈信息，根据提供信息的方式不同可分为两类。
   1. 路由器直接向发送端发送特殊的**拥塞分组**以提示发送端；
   2. 路由器修改转发的分组以向接收方提供拥塞的信息，然后接收方通知发送端。

TCP使用端到端的拥塞控制，因为IP协议并不对其提供任何支持。
