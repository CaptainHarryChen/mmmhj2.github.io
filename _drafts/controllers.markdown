---
title: "控制器设计"
cateogries: "控制理论"
---

本章中我们将研究一些常见的控制器，最后以PID控制器作为控制理论的结尾。

## 控制器简述

对于一个系统，我们知道，其性能指标按照瞬态与稳态可分为阻尼与响应速度和稳定性与准确性（强健性）两组。
响应速度与准确性密切相关，阻尼和稳定性密切相关；
相应的，提高响应速度往往意味着降低阻尼和稳定性，而提高阻尼往往意味着降低速度与准确性。
系统的这些特点使得我们难以让一个系统同时让四种性能非常优秀。

为此，我们希望在控制系统中加入一个额外的环节，以此改善系统的性能。
这个环节就是控制器。

### 控制器的分类

常见的控制器可分为串联、并联和前馈三种。

串联控制器常出现在闭环系统计算误差之后，控制环节之前。
这种控制器是最常见的控制器，也是我们主要研究的控制器。

并联控制器也常出现在闭环系统中，但是其位于反馈环上，通过调节反馈的量来进行控制。

前馈控制器则通过将输入量“提前”传递给控制环节来起作用。
常见的前馈控制分为扰动补偿和误差补偿两种。

![](/assets/system/compensation-corrector.svg){: .align-center}

上图展示了常见的扰动补偿的控制器的一个例子。
设输入为$\phi(p)$计算其输出，可得：
$$\begin{aligned}
    \epsilon(p) &= P(p) + H_2(p) [H_1(p) \phi(p) - C_p(p) P(p)] \\
    &= H_1(p) H_2(p) \phi(p) + [1 - H_2(p) C_p(p)] P(p)
\end{aligned}$$
若调整前馈控制器的传递函数，使得
$$1 - H_2(p) C_p(p) = 0 \iff C_p(p) = \frac{1}{H_2(p)}$$
那么输出就可以不受扰动的影响。
可惜的是，由于$H\_2(p)$是一个因果系统，这意味着其分子多项式的阶数小于等于分母多项式的，从而取倒数后，$C\_p$很有可能不是一个因果系统，从而不存在。
实践中我们要求两者约等于即可。

![](/assets/system/compensation-correcter-2.svg){: .align-center}

上图展示了一种常见的误差补偿控制器。
设输入为$X\_c(p)$，计算器输出，计算其误差，可得：
$$
\begin{aligned}
    &\epsilon(p) = X_c(p) - H_3(p) H_2(p) [H_1(p) \epsilon(p) + C(p) X_c(p)]
    \iff & [1 + H_1(p) H_2(p) H_3(p)] \epsilon(p) = [1 - H_2(p) H_3(p) C(p)] X_c(p)
\end{aligned}
$$
同理，若能满足
$$C(p) = \frac{1}{H_2(p) H_3(p)}$$
则能使得系统的误差与输入量无关。
然而由于因果系统的限制，我们也往往只能选择约等于的情况。

## 常见串联控制器

首先，对于常见的控制系统，添加一个串联控制器意味着在其开环传递函数上乘一个额外的传递函数。
我们主要关心开环传递函数，因为正如我们在前面几章中介绍的，闭环系统的性能可以从开环传递函数中简单地推出，而不用直接研究闭环传递函数。
我们设该控制器的传递函数为$C(p)$，则其频域响应为$C(j\omega)$。
那么，新的开环传函的增益和辐角可以写为：
$$
\left\{
    \begin{aligned}
        G_{BO^\prime}(\omega) = 20 \lg |C(j\omega)| + 20 \lg |G_{BO} (\omega)| \\
        \varphi_{BO^\prime}(\omega) = \arg C(j\omega) + \varphi_{BO} (\omega)
    \end{aligned}
\right.
$$
